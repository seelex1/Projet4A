---
title: "Projet_ModIA"
output: pdf_document
---

# Introduction
Brève introduction sur le sujet, la problématique principale , les questions que l'on se pose et comment on va essayer de trouver une solution (quels données on aura besoin).

# Jeu de données
## 1) Récupération des données et analyse introductoire
```{r setup}
# on ouvre le jeu de données
data = read.table("LifeExpectationData-Etudiants.csv")
```


```{r}
# on affiche les 6 premières lignes
head(data)
```

(petit commentaire sur le jeu de données)

## 2) Exploration du jeu de données
(expliquer en bref l'objectif de cette partie (regarder s'il y a des données manquantes, reduire nbr de variables, identifier les outliers, enlever les valeurs aberrantes, etc.))
### Summary des données
```{r}
summary(data)
```

> Commentaires :
1. Il peut y avoir des valeurs manquantes
2. On a pas les données de tous les pays pour chaque anné
3. status : au lieu de chaîne de caractères, on peut assigner des booléens
4. on peut regrouper la couverture vaccinale de Hepatitis.B, Polio et HIV.AIDS en une seule variable (si l'écart n'est pas trop grand)
5. percentage.expenditure : plusieurs pourcentages dépassent 100 (il faut peut être l'enlevé)

#### Valeurs manquantes
```{r}
colSums(is.na(data))
```

Il n'y a donc pas de valeurs manquantes dans le jeu de données.

#### Variable Year
On compte le nombre d'occurences pour chaque pays. On devrait avoir 133.
```{r}
table(data$Year)
```
On remarque qu'il y a 2 pays qui n'ont pas de données pour 2014. (on doit les identifier et s'îl leur manque d'autres années, on les vire (on peut aussi simplement les virer directement vu que notre étude se base principalement en 2014 jsp))

```{r}
# Identification des pays :

```

#### Variable Status
(on peut remplacer developed par 1 et developping par 0)

```{r}

```

#### Variables Hepatitis.B, Polio et HIV.AIDS
(On explique notre idée que les pays auront en général des couvertures vaccinales similaires pour ces 3 vaccins et donc de regrouper les 3 variables en une seule en prenant la moyenne)
(On peut également controler qu'il n'y a pas de grandes variations dans les couvertures au cours des années)

```{r}
country_2014_polio = data[which(data$Year == 2014),]$Polio
country_2014_dipht = data[which(data$Year == 2014),]$Diphtheria
country_2014_hB = data[which(data$Year == 2014),]$Hepatitis.B

summary(country_2014_polio)
summary(country_2014_dipht)
summary(country_2014_hB)
```

Les valeurs sont très similaires. 

(faudrait essayer de faire avec ggplot car c'est tres approximatif ce graphique, les échelles sont pas les mêmes)
```{r}
plot(country_2014_dipht, col = "red", ylab = "")
par(new = TRUE)
plot(country_2014_hB, col = "green", ylab = "")
par(new = TRUE)
plot(country_2014_polio, col = "black", ylab = "Couverture vaccinale (%)")
```

(on peut dire que de façon générale, on peut prendre la moyenne)
```{r}
# création de la nouvelle variable couverture vaccinale qui est la moyenne des 3 autres pour chaque pays, pour chaque année. Y a plusieurs outliers dans les données, genre Afghanistan 2004 

```

1. Visualisation la répartition de chaque variable. Remarque? Action finale.

```{r}
Y2014=data[which(data$Year==2014),]
Y2014$Year<-c()
xNum<-Y2014
xNum$Country<-c()
xNum$Status<-c() # on enleve les var qualitatives
str(xNum)
```

```{r}
boxplot(scale(xNum))
```
```{r}
par(mfrow=c(4,4))

# on prend la base log10 pour mieux repartir certaines
for (i in c(12,13,14,15)){
  xNum[,i] = log10(xNum[,i])
}

# on assure que y a pas 0 dans les 3 variables Infant.deaths, Measles, under.five.deaths
for (i in c(3,6,8)){
  xNum[,i] = log10(xNum[,i])+1
}

# on ajuste la fonction pour avoir une loi gaussienne pour les 3 variables qui ne sont pas bien repartie avec log10 (On a besion des loi gausiennes pour faire des modeles lineaires)
for (i in c(5,9,11)){
  xNum[,i] = -log10(100-xNum[,i])
}

# on affiche les histogrammes
for (i in 1:ncol(xNum)){
  hist(xNum[,i],freq=FALSE,main=names(xNum)[i])
}
```

```{r}
pairs(xNum)
```

